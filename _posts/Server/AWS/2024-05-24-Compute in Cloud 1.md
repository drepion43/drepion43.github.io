---
title:  "[AWS]Compute in Cloud 1"
categories: AWS
tag: [AWS, Cloud]
toc: true
author_profile: false
sidebar:
    nav: "docs"
use_math: true
excerpt: AWS Cloud Practitioner Essentials
comments: true
date: 2024-05-24
toc_sticky: true
---

# 출처
앞으로 정리할 내용은 [AWS Cloud Practitioner Essentials (Korean) (Na) (한국어 강의)](https://explore.skillbuilder.aws/learn/course/13522/play/107682/aws-cloud-practitioner-essentials-korean-na-hangug-eo-gang-ui)을 기반임을 밝힙니다.   

# Amazon Web Service 소개

## 목표
① AWS의 이점을 요약할 수 있습니다.   
② 온디맨드식 제공과 클라우드 배포의 차이점을 설명할 수 있습니다.   
③ 종량 과금제 모델을 요약 설명할 수 있습니다.

## 클라우드 컴퓨팅
클라우드 컴퓨팅은 IT 리소스를 인터넷을 통해 온디맨드로 제공하며 사용한 만큼만 비용을 지불하는 것입니다. 여기서 온디맨드 제공이란 **AWS가 사용자에게 필요한 리소스를 필요한 순간에 전달할 수 있다**는 의미입니다. 즉, 리소스가 필요하다고 미리 알려줄 필요가 없습니다. 반대로 스토리지나 리소스가 필요없으면 버튼을 OFF하면 됩니다.   
설치와 백업 등과 같은 작업의 예를 AWS에서는 IT에서의 **획일적인 작업 부담**이라고 합니다. 즉, 공통적이고 대부분의 경우 **반복되며 무엇보다 시간이 오래 걸리는 작업들**입니다.   
종량 과금제를 통해 필요없을 때는 OFF를 통해 과금을 방지할 수 있습니다.   
<br>
<span style='color:blue'>클라우드 배포</span>   
① 애플리케이션의 모든 부분을 클라우드에서 실행합니다.   
② 기존 애플리케이션을 클라우드로 마이그레이션합니다.   
③ 클라우드에서 새 애플리케이션을 설계 및 빌드합니다.   
클라우드 기반 배포 모델에서는 기존 애플리케이션을 클라우드로 마이그레이션하거나 클라우드에서 새 애플리케이션을 설계 및 빌드하는 것입니다.    
<br>
<span style='color:blue'>온프레미스 배포</span>   
① 가상화 및 리소스 관리 도구를 사용하여 리소스를 배포합니다.   
② 애플리케이션 관리 및 가상화 기술을 사용하여 리소스 활용도를 높입니다.   
온프레미스 배포는 프라이빗 클라우드 배포라고도 합니다. 리소스는 가상화 및 리소스 관리 도구를 사용하여 온프레미스에 배포합니다. 필요한 기술의 모든 요소가 온프레미스 데이터 센터에 저장되는 경우를 예로 들 수 있습니다.    
<br>
<span style='color:blue'>하이브리드 배포</span>   
① 클라우드 기반 리소스를 온프레미스 인프라에 연결합니다.   
② 클라우드 기반 리소스를 레거시 IT 애플리케이션과 통합합니다.   
하이브리드 배포에서 클라우드 기반 리소스는 온프레미스 인프라에 연결됩니다. 즉, 온프레미스에서 더 잘 유지되는 레거시 어플리케이션 있거나 비지니스의 상황에 따라 레코드(데이터)를 온프레미스에 보관해야하는 경우가 있습니다.    

<br>
<span style='color:blue'>클라우드 컴퓨팅 이점</span>    
① 선행 비용을 가변 비용으로 대체   
② 데이터 센터 운영 및 유지 관리에 비용 투자 불필요   
③ 용량 추정 불필요   
④ 거대한 규모의 경제로 얻는 이점   
⑤ 속도 및 민첩성   
$\rightarrow$ 빠르게 인스턴스 확보가 가능해 유연성이 좋습니다.   
⑥ 전세계에 빠른 배포   


# 클라우드 컴퓨팅

## 목표
① Amazon EC2의 이점을 기본 수준에서 설명할 수 있습니다.   
② 서로 다른 Amazon EC2 인스턴스 유형을 파악할 수 있습니다.   
③ Amazon EC2의 다양한 결제 옵션을 구분할 수 있습니다.   
④ Amazon EC2 Auto Scaling의 이점을 요약할 수 있습니다.   
⑤ Elastic Load Balancing의 이점을 요약할 수 있습니다.   
⑥ Elastic Load Balancing 사용 사례를 제시할 수 있습니다.   
⑦ Amazon Simple Notification Service(Amazon SNS)와 Amazon Simple Queue Service(Amazon SQS)의 차이점을 요약할 수 있습니다.   
⑧ 그 외 AWS 컴퓨팅 옵션을 요약할 수 있습니다.   

## EC2(Elastic Compute Cloud)
클라이언트와 서버 모델은 클라이언트가 요청을 서버에 보내면 서버가 작업을 수행을 하고 다시 클라이언트에게 응답을 보내는 것입니다.    
서비스를 운영하기 위해서는 **서버**가 있어야합니다. AWS의 경우 이 서버가 **물리적인 서버가 아니라 인터넷을 통해서 접근할 수 있는 가상화되어 있는 서버**입니다. 이 가상화된 서버에 액세스하는 데 사용하는 서비스를 바로 **EC2**입니다. 실제로 물리적인 서버를 구축하기 위해서는 **서버 유형, 서버 대수, 하드웨어 비용 등**과 같이 모두 고려해야하며 실제로 서버를 제공받을 때까지 몇주, 몇달이 소요됩니다. 또한, 그렇게 받은 서버를 **유지, 관리 및 보수**도 필요합니다.   
<br>
하지만 EC2의 경우 서버를 구입하고 필요한 제반 작업을 마쳤고, 이 서버는 바로 사용할 수 있는 온라인 상태입니다. 또한, 사용자는 필요할 때 용량의 일정 부분을 마음껏 사용하실 수가 있습니다. 즉, EC2 인스턴스를 요청하기만 하면 인스턴스가 시작하고 가동되어서 단 몇 분 안에 사용하실 수가 있습니다. 그리고 내가 필요한 작업이 끝나면 EC2 인스턴스를 굉장히 손쉽게 중단하거나 종료하실 수가 있습니다. 기본적으로 EC2는 가상화라고 하는 기술을 사용해서 AWS에서 관리하고 있기 때문에 EC2 인스턴스를 실제로 가동할 때는 **전체 호스트를 내가 다 소유하지 않아도 됩니다.** 그 대신 우리는 **가상 머신이라는 호스트를 다른 여러 인스턴스와 공유해서 사용을 합니다.**    
그리고 호스트 머신에서 실행하는 **하이퍼바이저**라고 하는 것이 가상 머신끼리 서로 물리적인 리소스를 공유하도록 책임을 지고 있습니다. 이렇듯 <span style='color:blue'>가상 머신이 기본적인 하드웨어를 공유하는 것을 **멀티 테넌시**</span>라고 합니다. 즉, 하이퍼바이저는 **호스트의 리소스를 서로 공유하는 가상 머신을 서로 분리해주는 일**을 해주므로 각 EC2 인스턴스가 서로 격리되어있습니다. 즉, **EC2 인스턴스는 그 호스트에 있는 다른 EC2를 인식하지 못한다는 의미**입니다.   
EC2는 높은 수준의 유연성과 제어 기능을 제공해 새로운 서버를 오프라인으로 전환도 가능합니다. 또한, EC2 인스턴스 프로비저닝시 **원하는 OS로 프로비저닝**이 가능합니다.  또한, **원하는 리소스만큼**으로 EC2 인스턴스를 생성할 수 있습니다.    

### EC2 인스턴스 유형
각 인스턴스의 유형은 **인스턴스 패밀리**로 구분되어잇습니다. 인스턴스 유형에 따라 CPU, 메모리, 스토리지 및 네트워크 용량의 다양한 조합이 제공되며 애플리케이션을 위한 적절한 리소스 조합을 선택하실 수도 있습니다. EC2 인스턴스에는 크게 5가지로 범용, 컴퓨터 최적화, 메모리 최적화, 엑설레이티드 컴퓨팅, 스토리지 최적화 인스턴스 패밀리가 존재합니다.    
<br>
<span style='color:blue'>범용 인스턴스</span>    
컴퓨팅, 메모리, 네트워킬 리소스 등 **균형있게 제공**합니다.      
예를 들어, 애플리케이션 서버, 게임 서버, 엔터프라이즈 애플리케이션 백엔드 서버, 중소 규모 데이터베이스 등의 워크로드에 적합합니다.   
<br>
<span style='color:blue'>컴퓨팅 최적화 인스턴스</span>    
**고성능 프로세스를 활용**하는 컴퓨팅 집약적인 애플리케이션에 적합합니다. 범용 인스턴스와 비슷한 워크로드에서도 사용할 수 있습니다.   
하지만, 컴퓨팅 최적화 인스턴스는 **단일 그룹에서 많은 트랜잭션을 처리해아하는 일괄 처리 워크로드**에서도 적합합니다.   
<br>
<span style='color:blue'>메모리 최적화 인스턴스</span>    
**메모리에서 대규모 데이터 집합을 처리하는 워크로드**에 빠른 성능을 제공하기 위해 설계되었습니다. 컴퓨터 프로그램이나 애플리케이션은 스토리지에서 메모리로 로드된 후 실행됩니다. 이 사전 로드 프로세스 덕분에 CPU가 컴퓨터 프로그램에 직접 액세스할 수 있습니다. 즉, RAM이 크다입니다.   
<br>
<span style='color:blue'>액설레이티드 컴퓨팅 인스턴스</span>    
**하드웨어 액셀러레이터 또는 코프로세서를 사용하여 일부 기능을 CPU에서 실행되는 소프트웨어**에서 보다 더 효율적으로 수행합니다. 예로 부동소수점 처리, 그래픽 처리 등이 있습니다.    
여기서 **하드웨어 엑설레이터는 데이터 처리를 가속화할 수 있는 구성 요소**입니다.    
<br>
<span style='color:blue'>스토리지 최적화 인스턴스</span>    
**로컬 스토리지의 대규모 데이터 집합에 대한 순차적 읽기 및 쓰기 액세스가 많이 필요한 워크로드**를 위해 설계되었습니다. 예로 분산 파일 시스템, 데이터 웨어하우징 애플리케이션 등이 있습니다.    
여기서 컴퓨팅에서 초당 입출력 작업 수(IOPS)는 **디바이스가 1초 내에 수행할 수 있는 입력 또는 출력 작업의 수**를 의미하며 스토리지 디바이스의 성능 측정 지표입니다. 스토리지 최적화 인스턴스는 지연시간이 짧은 IOPS를 제공합니다.   

### EC2 요금
EC2에 대해 다양한 요금제가 존재합니다.    
<br>
<span style='color:blue'>온디맨드</span>    
**인스턴스를 실행한 기간만큼만 비용을 낸다는 뜻인 온디맨드 요금제**입니다. 온디맨드 요금은 아무런 사전 계약이나 허가를 필요로 하지 않습니다. 온디맨드로 사용을 시작한 후에 평균 사용량에 대한 기준이 정해진다면 바로 이어서 소개해 드릴 요금제인 **Savings Plan**으로 전환할 수도 있습니다. 온디맨드 요금제의 경우 불규칙한 단기 워크로드에 적합합니다.    
Savings Plan은 일정한 사용량을 약정하는 대가로 EC2를 저렴하게 제공하는 것입니다. 대략 72%까지 절약이 가능합니다.    
<br>
<span style='color:blue'>Saving Plans</span>    
특정 인스턴스 패밀리 및 리전에 대해 1년 또는 3년 기간 동안 시간당 지출 약정을 할 경우 EC2 인스턴스 비용을 할인해줍니다. 약정 기간 초과시 온디맨드 요금이 청구됩니다.    
가용 영역, 인스턴스 크기, OS 또는 테넌시에 관계없이 선택한 리전에서 EC2 인스턴스 패밀리의 EC2 인스턴스를 실행(예: 버지니아 북부에서 M5를 사용)하면 비용을 절감할 수 있다는 이점이 있습니다.    
예약 인스턴스와 달리 할인을 받기 위해 EC2 인스턴스 유형 및 크기(예: m5.xlarge), OS, 테넌시를 사전에 지정할 필요가 없습니다. 1년 또는 3년 기간 동안 특정 수의 EC2 인스턴스를 약정할 필요도 없습니다. 또한 EC2 Instance Savings Plans에는 EC2 용량 예약 옵션이 포함되어 있지 않습니다.    
<br>
<span style='color:blue'>예약 인스턴스</span>    
**꾸준한 상태의 워크로드나 사용량이 예측 가능한 워크로드에 적합한 예약 인스턴스**입니다. 온디맨드 요금제 대비 대략 75%가량 저렴합니다. '전액 선결제'는 약정 시점에 전액을 지불합니다. '부분 선결제'는 약정할 때 금액 일부를 지불합니다. 마지막으로 '선결제 없음'은 시작 단계에서 비용을 지불하지 않고 후불로 지급하는 방식이 되겠습니다.   
예약 인스터는 크게 **표준 예약 인스턴스, 컨버터블 예약 인스턴스**라는 2가지 유형이 존재합니다.    
표쥰 예약 인스턴스는 안정적 상태의 애플리케이션에 필요한 EC2 인스턴스 유형 및 크기, 그리고 해당 애플리케이션을 실행할 AWS 리전을 알고 있는 경우에 적합합니다.   
컨버터블 예약 인스턴스는 EC2 인스턴스를 여러 가용 영역 또는 다양한 인스턴스 유형에서 실행해야 하는 경우 컨버터블 예약 인스턴스가 적합합니다.    
추가로 예약 인스턴스는 1년 또는 3년 약정으로 잡는데, 기간 종료시 계속 사용가능하나 온대민드 요금으로 납부해야합니다.   
<br>
<span style='color:blue'>스팟 인스턴스</span>    
시작 및 종료 시간이 자유롭거나 중단을 견딜 수 있는 워크로드에 적합합니다. 즉, 필요에 따라 시작 및 중지할 수 있는 백그라운드 처리 작업에 적합합니다. **여분의 Amazon EC2 컴퓨팅 용량을 할당받는 스팟 인스턴스**입니다. 따라서 스팟 인스턴스를 요청하더라도 가용가능한 EC2 인스턴스가 없다면 요청이 성공하지 못하기도 합니다. 하지만 이는 온디맨드 대비 대략 90%저렴합니다. 하지만, 스팟 인스턴스의 경우 **AWS가 필요시 언제든 인스턴스의 용량으 회수할 수 있다**입니다. 회수되기 2분전에 경보가 제공됩니다.    
